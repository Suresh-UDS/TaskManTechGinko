
<div class="crud-form"
	data-unique-hash="a2ad475d60b22954085c657a73309b8f">
	<div class="" ng-controller="UserController">
		<div class="row" ng-init="loadEmployee()">
			<div class="col-md-12">

				<div class="alert alert-success" ng-show="success">
					<strong>User saved!</strong>
				</div>

				<div class="alert alert-danger" ng-show="error">
					<strong>User Not Saved!</strong> Please try again later.
				</div>
				<div class="alert alert-danger" ng-show="validationError">
					<strong>User Not Saved! {{validationErrorMsg}}.</strong>
				</div>
				<div class="alert alert-danger" ng-show="errorUserExists">
					<strong>User already registered!</strong> Please choose another
					one.
				</div>

			</div>
            <div class="col-md-8">
                <!--<h2 class="title">Add User</h2>-->
            </div>
			<div class="col-md-12">

				<div class="form-container table-container">
					<label>* Mantatory Field</label>
					<form ng-show="!success" name="form" role="form" novalidate
						ng-submit="saveUser()" show-validation class="form-horizontal">

                       <div class="row">
                           <div class="col-md-12">
                               <div class="card formcard">
                                   <div class="card-content">

                                       <div class="row" ng-init="loadUserRoles()">

                                           <div class="col-md-4">
                                               <div class="form-group">
                                                   <label class="control-label">User Role <span class="red-star">*</span> </label>
                                                   <input type="text" class="form-control"
                                                           ng-model="selectedRole"
                                                          uib-typeahead="role as role.name for role in userRoles | filter:$viewValue | limitTo:5"
                                                          name="UserRole" ng-minlength="5" ng-maxlength="50" autofocus
                                                          required >

                                                   <div ng-show="form.$submitted || form.UserRole.$touched">
                                                       <div ng-show="form.UserRole.$dirty || form.UserRole.$invalid">
                                                           <p class="help-block" style="color: maroon"
                                                              ng-show="form.UserRole.$error.required">User Role is
                                                               required.</p>
                                                           <p class="help-block" style="color: maroon"
                                                              ng-show="form.UserRole.$error.minlength">User Role is
                                                               required to be at least 5 character.</p>
                                                           <p class="help-block" style="color: maroon"
                                                              ng-show="form.UserRole.$error.maxlength">User Role
                                                               cannot be longer than 50 characters.</p>
                                                       </div>
                                                   </div>

                                               </div>
                                           </div>
                                           <div class="col-md-4">
                                               <div class="form-group">
                                                   <label class="control-label">Username <span class="red-star">*</span></label>
                                                   <input type="text" class="form-control" name="login"
                                                          ng-model="user.login" ng-required="user.id == null"
                                                          ng-pattern="/^[A-Za-z0-9\s]*$/" ng-minlength="5"
                                                          ng-maxlength="50" required>
                                                   <div ng-show="form.$submitted || form.login.$touched">
                                                       <div ng-show="form.login.$dirty || form.login.$invalid">
                                                           <p class="help-block" style="color: maroon"
                                                              ng-show="form.login.$error.required" translate-value-max="50">
                                                               Login is required.</p>
                                                           <p class="help-block" style="color: maroon"
                                                              ng-show="form.login.$error.minlength"
                                                              translate-value-max="50">Login is required to be at least
                                                               5 character.</p>
                                                           <p class="help-block" style="color: maroon"
                                                              ng-show="form.login.$error.maxlength"
                                                              translate-value-max="50">Login cannot be longer than 50
                                                               characters.</p>
                                                           <p class="help-block" style="color: maroon"
                                                              ng-show="form.login.$error.pattern">Login can only
                                                               contain letters and digits.</p>
                                                       </div>
                                                   </div>
                                               </div>
                                           </div>
                                           <div class="col-md-4">
                                               <div class="form-group">
                                                   <label class="control-label">Password <span class="red-star">*</span></label>
                                                   <input type="password" class="form-control" id="password"
                                                          name="password" ng-model="user.password" ng-minlength=8
                                                          ng-maxlength="20" required>

                                                   <div ng-show="form.$submitted || form.password.$touched">
                                                       <div ng-show="form.password.$dirty || form.password.$invalid">
                                                           <p class="help-block" style="color: maroon"
                                                              ng-show="form.password.$error.required">Your password is
                                                               required.</p>
                                                           <p class="help-block" style="color: maroon"
                                                              ng-show="form.password.$error.minlength">Your password is
                                                               required to be at least 8 characters.</p>
                                                           <p class="help-block" style="color: maroon"
                                                              ng-show="form.password.$error.maxlength">Your password
                                                               cannot be longer than 20 characters.</p>
                                                       </div>
                                                   </div>
                                               </div>
                                           </div>

                                       </div>
                                       <div class="row">

                                           <div class="col-md-4">
                                               <div class="form-group">
                                                   <label class="control-label">First Name</label>
                                                   <input type="text" class="form-control" name="firstName"
                                                          ng-model="user.firstName" ng-minlength="2" ng-maxlength="50"
                                                          required>

                                                   <div ng-show="form.$submitted || form.firstName.$touched">
                                                       <div ng-show="form.firstname.$dirty || form.firstName.$invalid">
                                                           <p class="help-block" style="color: maroon"
                                                              ng-show="form.firstName.$error.required"
                                                              translate-value-max="50">First Name is required.</p>
                                                           <p class="help-block" style="color: maroon"
                                                              ng-show="form.firstName.$error.minlength"
                                                              translate-value-max="50">First Name is required to be at
                                                               least 2 character.</p>
                                                           <p class="help-block" style="color: maroon"
                                                              ng-show="form.firstName.$error.maxlength"
                                                              translate-value-max="50">First Name cannot be longer than
                                                               50 characters.</p>
                                                       </div>
                                                   </div>
                                               </div>
                                           </div>
                                           <div class="col-md-4">
                                               <div class="form-group">
                                                   <label class="control-label">Last Name</label>
                                                   <input type="text" class="form-control" name="lastName"
                                                          ng-model="user.lastName" ng-maxlength="50">
                                               </div>
                                           </div>
                                           <div class="col-md-4">
                                               <div class="form-group">
                                                   <label class="control-label">Email <span class="red-star">*</span></label>
                                                   <input type="email" class="form-control" name="email"
                                                          ng-model="user.email" ng-maxlength="255" required>

                                                   <div ng-show="form.$submitted || form.email.$touched">
                                                       <div ng-show="form.email.$invalid">
                                                           <p class="help-block" style="color: maroon"
                                                              ng-show="form.email.$error.required">Email is required.</p>

                                                           <p class="help-block" style="color: maroon"
                                                              ng-show="form.email.$error.email">Email is invalid.</p>

                                                           <p class="help-block" style="color: maroon"
                                                              ng-show="form.email.$error.maxlength"
                                                              translate-value-max="255">Email cannot be longer than 255
                                                               characters.</p>
                                                       </div>
                                                   </div>
                                               </div>
                                           </div>

                                       </div>
                                       <div class="row">

                                           <div class="col-md-4">
                                               <div class="form-group label-floating">
                                                   <!--<label class="control-label">Employee</label>-->
                                                   <div class="dropdown">
                                                       <!--<input type="text" class="form-control" name='employeeName'-->
                                                              <!--ng-model="selectedEmployee"-->
                                                              <!--uib-typeahead="emp as emp.name for emp in employees | filter:$viewValue | limitTo:5"-->
                                                              <!--autocomplete="off" />-->

                                                       <select class="form-control " ng-model="selectedEmployee"  ng-options="emp as emp.name for emp in employees">
                                                           <option value="">Please select Employees...</option>
                                                       </select>

                                                       <div ng-show="form.$submitted || form.employeeName.$touched">
                                                           <div
                                                               ng-show="form.employeeName.$dirty || form.employeeName.$invalid">

                                                           </div>
                                                       </div>
                                                   </div>
                                               </div>
                                           </div>

                                           <div class="col-md-4">
                                               <div class="form-group">
                                                   <label class="control-label">Profiles*</label>
                                                   <select class="selectpicker" data-style="select-with-transition" multiple title="Choose Site" data-size="7" name="authority" multiple     ng-model="user.authorities"
                                                           ng-options="authority for authority in authorities track by authority" >
                                                   </select>
                                                   <div ng-show="form.$submitted || form.authority.$touched">
                                                       <p class="help-block" style="color: maroon"
                                                          ng-show="form.authority.$error.required">Please select a
                                                           profile.</p>
                                                   </div>
                                               </div>
                                           </div>
                                           <div class="col-md-4">
                                               <div class="form-group">

                                                   <div class="checkbox checkbox-inline">
                                                       <label>
                                                           <input id="activated" ng-model="user.activated" type="checkbox" name="activated"> Activated
                                                       </label>
                                                   </div>

                                                   <div class="checkbox checkbox-inline">
                                                       <label>
                                                           <input type="checkbox" id="emailSubscribed" name="emailSubscribed" ng-model="user.emailSubscribed" value="true" checked="user.emailSubscribed"> Notifications
                                                       </label>
                                                   </div>


                                               </div>
                                           </div>



                                       </div>

                                       <div class="row">

                                           <div class="col-sm-12 txt-align-rgt">
                                               <div class="form-group">
                                                   <button class="btn btn-success" type="submit"
                                                           id="form-button-save">
                                                      <span class="btn-label">
                                            <i class="material-icons">check</i>
                                        </span> Save
                                                   </button>
                                                   <button class="btn btn-danger" type="button"
                                                           ng-click="cancelUser()" id="cancel-button">
                                                       <i class="material-icons">close</i>Cancel
                                                   </button>
                                               </div>
                                           </div>

                                       </div>

                                   </div>
                               </div>
                           </div>
                       </div>



						<!-- Start of hidden inputs -->
						<!-- End of hidden inputs -->

						<div class='small-loading hidden' id='FormLoading'>Loading,
							saving data...</div>

						<div class="form-group">
							<div id='report-error' class='report-div error bg-danger'
								style="display: none"></div>
							<div id='report-success' class='report-div success bg-success'
								style="display: none"></div>
						</div>

					</form>
				</div>
			</div>
		</div>
	</div>

</div>
