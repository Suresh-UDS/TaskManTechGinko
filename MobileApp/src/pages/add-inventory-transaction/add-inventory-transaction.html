<!--
  Generated template for the AddInventoryTransaction page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
         <ion-title>Add-Inventory Transaction</ion-title>
        <ion-buttons right>
          <button ion-button color="fnt-black" icon-only (click)="dismiss()" class="padding-right10">
            <ion-icon ios="ios-close" md="md-close" class="fnt-24"></ion-icon>
          </button>
        </ion-buttons>
  </ion-navbar>

</ion-header>


<ion-content padding>
    <ion-row no-margin>
        <ion-col col-12>
            <ion-item>
                <ion-label text-capitalize class="client-label" text-left>Client :</ion-label>
                <ion-select [selectOptions]="selectOptions" interface="popover" [(ngModel)]="selectedProject" text-lowercase>
                    <ion-option *ngFor="let p of clientList;let i=index" [value]="p" (ionSelect)="selectSite(p)" text-center text-lowercase>{{p.name}}</ion-option>
                </ion-select>
            </ion-item>
        </ion-col>
    </ion-row>
    <ion-row no-margin>
        <ion-col col-12>
            <ion-item>
                <ion-label text-capitalize class="client-label" text-left>Site:</ion-label>
                <ion-select [selectOptions]="selectOptions" interface="popover" [(ngModel)]="selectedSite" text-lowercase>
                    <ion-option  *ngFor="let s of siteList;let i of index" (ionSelect)="getIndents(s)" text-center text-lowercase>{{s.name}}</ion-option>
                </ion-select>
            </ion-item>
        </ion-col>
    </ion-row>
    <!--<ion-row no-margin>
        &lt;!&ndash;<ion-col col-12>&ndash;&gt;
        &lt;!&ndash;<ion-item>&ndash;&gt;
        &lt;!&ndash;<ion-label text-capitalize class="client-label" text-left>Employee:</ion-label>&ndash;&gt;
        &lt;!&ndash;<ion-select [selectOptions]="selectOptions" interface="popover" [(ngModel)]="selectedProject" text-lowercase>&ndash;&gt;
        &lt;!&ndash;<ion-option    text-center text-lowercase></ion-option>&ndash;&gt;
        &lt;!&ndash;</ion-select>&ndash;&gt;
        &lt;!&ndash;</ion-item>&ndash;&gt;
        &lt;!&ndash;</ion-col>&ndash;&gt;

        &lt;!&ndash; <ion-searchbar
                 [(ngModel)]="searchText"
                 [showCancelButton]="shouldShowCancel"
                 (ionInput)="onInput($event)"
                 (ionCancel)="onCancel($event)">
         </ion-searchbar>&ndash;&gt;

        <ion-input type="text" [(ngModel)]="searchText" (ionChange)='f(searchText)' class="txt-input" placeholder="Search Employees">

        </ion-input>
    </ion-row>
    <ion-row *ngIf="searchText"  no-margin>
        <div>
            <ul class="fnt-z white-bg width90">
                <li>Seeni</li>
                <li>Venkatesh</li>
                <li>Sowmiya</li>
                <li>Karthick</li>
            </ul>
        </div>
    </ion-row>-->

  <ion-row no-margin>
    <ion-col col-12>
      <ion-item>
        <ion-label text-capitalize class="client-label" text-left>Indent:</ion-label>
        <ion-select [selectOptions]="selectOptions" interface="popover" text-lowercase>
          <ion-option text-center text-lowercase *ngFor="let n of indentList;let i of index" (ionSelect)="getMaterialByIndent(n)">{{n.indentRefNumber}}</ion-option>
        </ion-select>
      </ion-item>
    </ion-col>
  </ion-row>

   <!-- <ion-row no-margin>
        <ion-col col-12>
            <ion-item>
                <ion-label text-capitalize class="client-label" text-left>Group:</ion-label>
                <ion-select  [selectOptions]="selectOptions"  interface="popover" text-lowercase>
                    <ion-option text-center text-lowercase *ngFor="let g of inventoryGroups;let i of index" (ionSelect)="getMaterialByGroup(g)" >{{g.itemGroup}}</ion-option>
                </ion-select>
            </ion-item>
        </ion-col>
    </ion-row>-->
    <ion-row no-margin>
                <ion-col col-9>
                    <ion-item>
                        <ion-label text-capitalize class="client-label" text-left>Material:</ion-label>
                        <ion-select  [selectOptions]="selectOptions"  interface="popover" text-lowercase>
                            <ion-option text-center text-lowercase  *ngFor="let m of indentMaterial;let i of index" (ionSelect)="selectMaterial(m)">{{m.materialName}}</ion-option>
                        </ion-select>
                    </ion-item>
                </ion-col>
                <ion-col col-3 text-center>
                    <button class="btn btn-warning center" (click)="addTransactionMaterial(selectedMaterial)">Add</button>
                </ion-col>
    </ion-row>

  <ion-row no-margin *ngIf="selectedMaterial">
    <ion-col col-12>
      <ion-item text-center class="bg-gray">
        <ion-label class="clr-orange bg-gray">Added Materials</ion-label>
      </ion-item>
    </ion-col>
  </ion-row>

    <ion-row no-margin class="white-bg" *ngFor="let t of transactionMaterials">
        <ion-col col-6>
            <ion-list>
                <ion-item>
                    <ion-input type="text" value=""  placeholder="name" [(ngModel)]="t.materialName" disabled></ion-input>
                </ion-item>
            </ion-list>
        </ion-col>
        <ion-col col-2>
            <ion-list>
                <ion-item>
                    <ion-input type="text" value=""  placeholder="Qty" [(ngModel)]="t.number" disabled></ion-input>
                </ion-item>
            </ion-list>
        </ion-col>
        <ion-col col-2>
            <ion-list>
                <ion-item>
                    <ion-input type="text" value="" placeholder="uom" [(ngModel)]="t.uom" disabled>{{t.uom}}</ion-input>
                </ion-item>
            </ion-list>
        </ion-col>
        <ion-col col-2>
            <button ion-fab mini color="dark" (click)="removeTransaction(i)">
                <ion-icon name="md-close" class="clr-orange"></ion-icon>
            </button>
        </ion-col>
    </ion-row>
</ion-content>

