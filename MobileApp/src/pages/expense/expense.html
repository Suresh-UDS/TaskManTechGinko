<!--
  Generated template for the Expense page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar>
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>

    <ion-title>Expense</ion-title>
      <ion-buttons right>
          <button color="primary" ion-button clear  class="add-btn"  (click)="addExpenseModal()">
              <ion-icon name="md-add" class="clr-orange"></ion-icon>
          </button>
      </ion-buttons>
  </ion-navbar>

</ion-header>


<ion-content class="greyBg">

  <!--<ion-fab top right edge>
    <button ion-fab color="primary" (click)="addExpenseModal()"><ion-icon name="ios-add-outline"></ion-icon></button>
  </ion-fab>-->

  <div *ngIf="(!siteList || siteList.length< 0) && !spinner ">
    <ion-card>
      <ion-card-content>
        <img src="assets/imgs/warning.svg">
        <span><p text-center>No Data Found</p></span>
      </ion-card-content>
    </ion-card>
  </div>

  <div  *ngIf="(!siteList||siteList.length <= 0) && spinner" text-center class="margin-top25">
    <ion-spinner name="circles"></ion-spinner>
  </div>

     <div class="MainExpenseContainer">

       <ion-item class="border-btm">
         <ion-label  text-capitalize class="client-label" text-left>Client:</ion-label>
         <select-searchable
           item-content
           [items]="clientList"
           itemValueField="id"
           itemTextField="name"
           [canSearch]="true"
           (onChange)="siteChange($event)">
         </select-searchable>
       </ion-item>

       <ion-card *ngFor="let site of siteList" (click)="viewExpenseDetails(site)">
         <ion-card-header text-center>
           {{site.name}}
         </ion-card-header>
         <ion-card-content>

           <ion-list>
             <ion-item>
               <ion-icon class="CircleIcon" item-start name="ios-share-outline"></ion-icon>
               <h2>Debit</h2>
               <ion-note item-end class="red">- {{site.totalDebitAmount}}</ion-note>
             </ion-item>
             <ion-item>
               <ion-icon class="CircleIcon" item-start name="ios-download-outline"></ion-icon>
               <h2>Credit</h2>
               <ion-note item-end class="green">+ {{site.totalCreditAmount}}</ion-note>
             </ion-item>
             <ion-item text-right *ngIf="site.totalBalanceAmount == 0 ">
               <ion-icon class="CircleIcon" item-start name="ios-briefcase-outline"></ion-icon>
               <h2>Balance</h2>
               <ion-note item-end class="dark">{{site.totalBalanceAmount}}</ion-note>
             </ion-item>
             <ion-item text-right *ngIf="site.totalBalanceAmount > 0">
               <ion-icon class="CircleIcon" item-start name="ios-briefcase-outline"></ion-icon>
               <h2>Balance</h2>
               <ion-note item-end class="green">{{site.totalBalanceAmount}}</ion-note>
             </ion-item>
             <ion-item text-right *ngIf="site.totalBalanceAmount < 0">
               <ion-icon class="CircleIcon" item-start name="ios-briefcase-outline"></ion-icon>
               <h2>Balance</h2>
               <ion-note item-end class="red">{{site.totalBalanceAmount}}</ion-note>
             </ion-item>

           </ion-list>


         </ion-card-content>

         <div class="posCirclesCon">

             <span class="circles"></span>
             <span class="circles"></span>
             <span class="circles"></span>
             <span class="circles"></span>
             <span class="circles"></span>
             <span class="circles"></span>
             <span class="circles"></span>
             <span class="circles"></span>
             <span class="circles"></span>
             <span class="circles"></span>
             <span class="circles"></span>
             <span class="circles"></span>
             <span class="circles"></span>
             <span class="circles"></span>
             <span class="circles"></span>
             <span class="circles"></span>
             <span class="circles"></span>


         </div>

       </ion-card>

     </div>

</ion-content>
