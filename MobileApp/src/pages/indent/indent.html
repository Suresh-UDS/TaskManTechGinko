<!--
  Generated template for the Indent page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<!--
  Generated template for the AddInventoryTransaction page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar>
      <button ion-button menuToggle>
          <ion-icon name="menu"></ion-icon>
      </button>
    <ion-title>Indent</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>
    <ion-row no-margin>
        <ion-col col-12>
            <ion-item>
                <ion-label   text-capitalize class="client-label" text-left >Reference number:</ion-label>
                <ion-input type="text" [(ngModel)]="referenceNumber"></ion-input>
            </ion-item>
        </ion-col>
    </ion-row>
    <ion-row no-margin>
        <ion-col col-12>
            <ion-item>
                <ion-label   text-capitalize class="client-label" text-left >Purpose:</ion-label>
                <ion-input type="text" [(ngModel)]="purposeDetails"></ion-input>
            </ion-item>
        </ion-col>
    </ion-row>
  <ion-row no-margin>
    <ion-col col-12>
      <ion-item>
        <ion-label text-capitalize class="client-label" text-left>Client :</ion-label>
        <ion-select [selectOptions]="selectOptions" interface="popover" [(ngModel)]="selectedProject" text-lowercase>
          <ion-option *ngFor="let p of clientList;let i=index" [value]="p" (ionSelect)="selectSite(p)" text-center text-lowercase>{{p.name}}</ion-option>
        </ion-select>
      </ion-item>
    </ion-col>
  </ion-row>
  <ion-row no-margin>
    <ion-col col-12>
      <ion-item>
        <ion-label text-capitalize class="client-label" text-left>Site:</ion-label>
        <ion-select [selectOptions]="selectOptions" interface="popover" [(ngModel)]="selectedSite" text-lowercase>
          <ion-option  *ngFor="let s of siteList;let i of index"  [value]="s" (ionSelect)="searchMaterials(s)" text-center text-lowercase>{{s.name}}</ion-option>
        </ion-select>
      </ion-item>
    </ion-col>
  </ion-row>
    <!--<ion-row no-margin>-->
        <!--<ion-col>-->
            <!--<ion-input type="text" [(ngModel)]="searchText" (ionChange)='f(searchText)' class="txt-input" placeholder="Search Employees">-->

            <!--</ion-input>-->
        <!--</ion-col>-->
    <!--</ion-row>-->

    <!--<ion-row *ngIf="searchText"  no-margin>-->
        <!--<div>-->
            <!--<ul class="fnt-z white-bg width90">-->
                <!--<li>Seeni</li>-->
                <!--<li>Venkatesh</li>-->
                <!--<li>Sowmiya</li>-->
                <!--<li>Karthick</li>-->
            <!--</ul>-->
        <!--</div>-->
    <!--</ion-row>-->

  <ion-row no-margin>
    <ion-col col-12>
      <ion-item>
        <ion-label text-capitalize class="client-label" text-left>Group:</ion-label>
        <ion-select  interface="popover"   text-lowercase>
          <ion-option text-center text-lowercase *ngFor="let g of inventoryGroups;let i of index" (ionSelect)="getMaterialByGroup(g)" >{{g.itemGroup}}</ion-option>
        </ion-select>
      </ion-item>
    </ion-col>
  </ion-row>
  <ion-row no-margin text-center>
    <ion-col col-9>
      <ion-item>
          <ion-label text-capitalize class="client-label" text-left>Material:</ion-label>
          <ion-select interface="popover" >
              <ion-option text-center text-lowercase *ngFor="let m of inventoryMaterial;let i of index" (ionSelect)="selectMaterial(m)" >{{m.name}}</ion-option>
        </ion-select>
      </ion-item>
    </ion-col>
      <ion-col col-3 float-right>
          <button class="btn btn-warning pull-right"  (click)="addIndent(selectedMaterial)">Add</button>
      </ion-col>
  </ion-row>
    <!--<ion-row no-margin>-->

    <!--</ion-row>-->
    <ion-row no-margin *ngIf="selectedMaterial">
        <ion-col col-12>
            <ion-item text-center class="bg-gray">
                <ion-label class="clr-orange bg-gray">Added Materials</ion-label>
            </ion-item>
        </ion-col>
    </ion-row>
  <ion-row no-margin class="white-bg" *ngFor="let t of indent">
    <ion-col col-6>
      <ion-list>
        <ion-item>
            <ion-input type="text" value=""  placeholder="name" [(ngModel)]="t.materialName" disabled></ion-input>
        </ion-item>
      </ion-list>
    </ion-col>
    <ion-col col-2>
      <ion-list>
        <ion-item>
            <ion-input type="text" value=""  placeholder="Qty" [(ngModel)]="t.quantity" ></ion-input>
        </ion-item>
      </ion-list>
    </ion-col>
    <ion-col col-2>
      <ion-list>
        <ion-item>
          <ion-input type="text" value=""  placeholder="uom" [(ngModel)]="t.materialUom" disabled></ion-input>
        </ion-item>
      </ion-list>
    </ion-col>
    <ion-col col-2>
      <button ion-fab mini color="dark" (click)="removeTransaction(i)">
        <ion-icon name="md-close" class="clr-orange"></ion-icon>
      </button>
    </ion-col>
  </ion-row>

</ion-content>
<ion-footer>
    <ion-toolbar text-center>
        <button class="btn btn-warning center width42" (click)="saveIndentMaterial()">
            Save
        </button>
    </ion-toolbar>
</ion-footer>


