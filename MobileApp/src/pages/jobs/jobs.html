<ion-header>
  <ion-navbar>
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>Jobs</ion-title>
  </ion-navbar>
    <ion-toolbar>
        <ion-segment [(ngModel)]="categories" class="segmnt margin-auto margin-top5" color="clr-blue">
            <ion-segment-button value="today" (click)="getTodaysJobs()">
                Today's Jobs
            </ion-segment-button>
            <ion-segment-button value="jobs" (click)="getAllJobs()">
                All Jobs
            </ion-segment-button>

        </ion-segment>
    </ion-toolbar>
</ion-header>

<ion-content padding>


    <div [ngSwitch]="categories">

        <ion-list *ngSwitchCase="'today'">
            <ion-item *ngFor="let job of todaysJobs">
                <p>{{job.title}}</p>
            </ion-item>
        </ion-list>
        <ion-list *ngSwitchCase="'jobs'">
                <div class="card" *ngFor="let job of allJobs">

                    <div class="card-content" *ngIf="job.status == 'OVERDUE'">
                        {{job.title}} - <span  style="color: red" >{{job.status}}</span>
                    </div>
                    <div class="card-content" *ngIf="job.status == 'COMPLETED'">
                        {{job.title}} - <span  style="color: green" >{{job.status}}</span>
                    </div>
                    <div class="card-content" *ngIf="job.status =='OPEN' || job.status == 'ASSIGNED' || job.status == 'INPROGRESS' ">
                        {{job.title}} -  <span  style="color: deepskyblue" >{{job.status}}</span>
                    </div>
                    <div class="card-content">
                        <p>{{job.employeeName}}</p>
                    </div>
                    <div class="card-content">
                        <p>{{job.siteProjectName}} - {{job.siteName}}</p>
                    </div >
                    <div class="card-footer">
                        <div *ngIf="job.status !='COMPLETED'">
                            <p>{{job.plannedStartTime | date:'dd/MM/yyyy H:mm' }} - {{job.plannedEndTime | date:'dd/MM/yyyy H:mm' }} </p>
                        </div>
                        <div *ngIf="job.status =='COMPLETED'">
                            <p>{{job.actualStartTime | date:'dd/MM/yyyy H:mm' }} - {{job.actualEndTime | date:'dd/MM/yyyy H:mm' }} </p>
                        </div>
                        <div class="stats align-right">
                            <!--<p class="display-inline">view</p><ion-icon class="primary-clr padding-left5 fnt-12" name="arrow-forward"></ion-icon>-->
                        </div>
                    </div>
                </div>
        </ion-list>

    </div>

</ion-content>
