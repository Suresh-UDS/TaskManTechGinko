<ion-header>
  <ion-navbar>
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title text-center>Initiate Feedback</ion-title>
      <ion-buttons right>
          <button *ngIf="selectedSite" ion-button color="primary" icon-only (click)="goDashboard(selectedSite)">
              <i class="material-icons">dashboard</i>
          </button>
      </ion-buttons>
  </ion-navbar>
</ion-header>

<ion-content>

  <div class="card scroll-card">
    <div class="card-content">
          <ion-row>

            <ion-col col-12>
              <p text-center>Choose Client</p>
              <div class="SitesScrollCon">
                <ion-scroll scrollX="true">
                  <button class="scroll-item" ion-button round *ngFor="let p of projects;let i of index" (click)="selectSite(p,i)" [color]="projectActive && i==projectindex ? 'primary':'light'">
                    <p class="siteName">{{p.name}}</p>
                  </button>
                </ion-scroll>
              </div>
            </ion-col>
          </ion-row>
    </div>
  </div>

  <div class="card scroll-card">
    <div class="card-content">
      <ion-row>
           <ion-col col-12>

              <p text-center>Choose Site</p>

              <div padding text-center *ngIf="siteSpinner">
                <span><ion-spinner name="bubbles"></ion-spinner> <br> Loading...</span>
              </div>

              <div padding text-center *ngIf="chooseClient">
                <strong>Please Select Client</strong>
              </div>

              <div class="SitesScrollCon" *ngIf="showSites">
                <ion-scroll scrollX="true">
                  <button class="scroll-item" ion-button round  *ngFor="let s of sites;let i of index" (click)="selectBlockDetail(i,s)" [color]="siteActive && i==index ? 'primary' : 'light'">
                    <p class="siteName">{{s.name}}</p>
                  </button>
                </ion-scroll>
              </div>

            </ion-col>
      </ion-row>
    </div>
  </div>


   <!--<div class="InitFeedbackCon">

        <div class="InputCon">

            <ion-list>
                <ion-item>
                    <ion-label no-padding>Project</ion-label>
                    <ion-select [selectOptions]="selectOptions" interface="popover" [(ngModel)]="selectedProject">
                        <ion-option *ngFor="let p of projects;let i=index" [value]="p" (ionSelect)="selectSite(p)"> {{p.name}}</ion-option>
                    </ion-select>
                </ion-item>

                &lt;!&ndash;<ion-item>&ndash;&gt;
                    &lt;!&ndash;<ion-label>Site</ion-label>&ndash;&gt;
                    &lt;!&ndash;<ion-select [selectOptions]="selectOptions" interface="popover" [(ngModel)]="selectedSite">&ndash;&gt;
                        &lt;!&ndash;<ion-option *ngFor="let s of sites" [value]="s.id" (ionSelect)="selectBlock(s)">{{s.name}}</ion-option>&ndash;&gt;
                    &lt;!&ndash;</ion-select>&ndash;&gt;
                &lt;!&ndash;</ion-item>&ndash;&gt;
                &lt;!&ndash;<ion-item>&ndash;&gt;
                    &lt;!&ndash;<ion-label>Block</ion-label>&ndash;&gt;
                    &lt;!&ndash;<ion-select [selectOptions]="selectOptions" interface="popover" [(ngModel)]="selectedBlock">&ndash;&gt;
                        &lt;!&ndash;<ion-option *ngFor="let b of blocks" [value]="b" (ionSelect)="selectFloor(b)">{{b}}</ion-option>&ndash;&gt;
                    &lt;!&ndash;</ion-select>&ndash;&gt;
                &lt;!&ndash;</ion-item>&ndash;&gt;
                &lt;!&ndash;<ion-item>&ndash;&gt;
                    &lt;!&ndash;<ion-label>Floor</ion-label>&ndash;&gt;
                    &lt;!&ndash;<ion-select [selectOptions]="selectOptions" interface="popover" [(ngModel)]="selectedFloor">&ndash;&gt;
                        &lt;!&ndash;<ion-option *ngFor="let f of floors" [value]="f" (ionSelect)="selectZone(f)" >{{f}}</ion-option>&ndash;&gt;
                    &lt;!&ndash;</ion-select>&ndash;&gt;
                &lt;!&ndash;</ion-item>&ndash;&gt;
                &lt;!&ndash;<ion-item>&ndash;&gt;
                    &lt;!&ndash;<ion-label>zone</ion-label>&ndash;&gt;
                    &lt;!&ndash;<ion-select [selectOptions]="selectOptions" interface="popover" [(ngModel)]="zone">&ndash;&gt;
                        &lt;!&ndash;<ion-option *ngFor="let z of zones" [value]="z">{{z}}</ion-option>&ndash;&gt;
                    &lt;!&ndash;</ion-select>&ndash;&gt;
                &lt;!&ndash;</ion-item>&ndash;&gt;
                &lt;!&ndash;<ion-item>&ndash;&gt;
                    &lt;!&ndash;<ion-label>Feedback Name</ion-label>&ndash;&gt;
                    &lt;!&ndash;<ion-select [selectOptions]="selectOptions" interface="popover">&ndash;&gt;
                        &lt;!&ndash;<ion-option *ngFor="let fb of feedbacks" [value]="fb" (ionSelect)="start(fb)">{{fb.projectName}} - {{fb.siteName}} - {{fb.Zone}}</ion-option>&ndash;&gt;
                    &lt;!&ndash;</ion-select>&ndash;&gt;
                &lt;!&ndash;</ion-item>&ndash;&gt;

            </ion-list>

            &lt;!&ndash;<div class="TailsCon" *ngIf="!scrollSite">&ndash;&gt;

                &lt;!&ndash;<div *ngIf="sites?.length<0">&ndash;&gt;
                    &lt;!&ndash;<h4 text-center>No Data Found</h4>&ndash;&gt;
                &lt;!&ndash;</div>&ndash;&gt;

                &lt;!&ndash;<ion-grid>&ndash;&gt;
                    &lt;!&ndash;<ion-row>&ndash;&gt;
                        &lt;!&ndash;<ion-col col-4 *ngFor="let site of sites;let i of index" >&ndash;&gt;
                            &lt;!&ndash;<button ion-button clear (click)="selectBlockDetail(i,site)">&ndash;&gt;
                                &lt;!&ndash;<p class="siteName SiteListTails">{{site.name}}</p>&ndash;&gt;
                            &lt;!&ndash;</button>&ndash;&gt;
                        &lt;!&ndash;</ion-col>&ndash;&gt;
                    &lt;!&ndash;</ion-row>&ndash;&gt;
                &lt;!&ndash;</ion-grid>&ndash;&gt;
            &lt;!&ndash;</div>&ndash;&gt;

            <div class="SiteAndBlockCOn"  *ngIf="scrollSite">

                <div class="SiteCon">
                    <div class="scrollCon">
                        <ion-row>
                            <ion-item no-lines>
                                <ion-scroll scrollX="true">
                                    <div *ngIf="sites?.length==0" class="padding-top15">
                                        <h4 text-center class="clr-blk">No Data Found</h4>
                                    </div>
                                    <button class="siteBtn scroll-item" ion-button round  *ngFor="let s of sites;let i of index" (click)="selectBlockDetail(i,s)" [color]="i==activeSite ? 'primary' : 'light'">
                                        <p class="siteName">{{s.name}}</p>
                                    </button>
                                </ion-scroll>
                            </ion-item>
                        </ion-row>
                    </div>
                </div>-->


  <div class="card scroll-card">
    <div class="card-content">
      <ion-row>
                <ion-item no-lines>
                    <ion-icon name="ios-git-merge-outline" item-start></ion-icon>
                    Select Block, Floor, Zone
                </ion-item>

                <ion-item class="TailsCon"  *ngIf="!scrollSite">
                    <ion-grid>
                        <ion-row>
                            <ion-col col-4 class="BlocksList"  *ngFor="let l of locations;let i=index" [ngStyle]="{'background-color':bgClr[i%10]}">
                                <button ion-button clear class="BlockBtns" (click)="loadFeedbackMappings(l)">
                                    <p class="SiteListTails">{{l.block}} <br> {{l.floor}} <br> {{l.zone}}</p>
                                </button>
                            </ion-col>
                        </ion-row>
                    </ion-grid>
                </ion-item>

                <ion-item class="TailsCon" *ngIf="selectedProjectId==siteProjectId">
                    <ion-grid>
                        <ion-row>
                            <ion-col col-4 class="BlocksList"  *ngFor="let l of locations;let i=index" [ngStyle]="{'background-color':bgClr[i%10]}">
                                <button ion-button clear class="BlockBtns" (click)="loadFeedbackMappings(l)">
                                    <p class="SiteListTails">{{l.block}} <br> {{l.floor}} </p>
                                </button>
                            </ion-col>
                        </ion-row>
                    </ion-grid>
                </ion-item>

                <!--<div class="TailsCon" *ngIf="selectedProjectId==siteProjectId">-->
                    <!--<ion-grid>-->
                        <!--<ion-row>-->
                            <!--<ion-col col-4 class="BlocksList" *ngFor="let l of locations;let i of index">-->
                                <!--<button ion-button clear class="BlockBtns" (click)="loadFeedbackMappings(l)">-->
                                    <!--<p class="SiteListTails">{{l.block}} <br> {{l.floor}} <br> {{l.zone}}</p>-->
                                <!--</button>-->
                            <!--</ion-col>-->
                        <!--</ion-row>-->
                    <!--</ion-grid>-->
                <!--</div>-->
            <!--</div>
        </div>
   </div>-->

          </ion-row>
        </div>
      </div>

</ion-content>

